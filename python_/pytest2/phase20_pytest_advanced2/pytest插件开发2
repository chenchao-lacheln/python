pytest编写插件1 -修改默认编码 test_mark1.py  conftest.py

    pytest_collection_modifyitems 收集上来的测试用例实现定制化功能
    解决问题:
        自定义用例的执行顺序
        解决编码问题(中文的测试用例名称)
        自动添加标签

     # 含有中文的测试用例的名字，改写编码格式
        for item in  items:
            item.name = item.name.encode('utf-8').decode('unicode-escape')
            item._nodeid = item.nodeid.encode('utf-8').decode('unicode-escape')

pytest编写插件2 -添加命令行参数

        def pytest_addoption(parser):
            mygroup = parser.getgroup("lacheln") #group 将下面所有的option 都展示在这个group下
            mygroup.addoption("--env",  #注册一个命令行选项
                              default = "test", #参数默认值
                              dest = "env",    #存储的变量，为属性命令，可以使用Option对象访问这个值，
                              help = "set your run env" # 帮助信息，参数的描述信息
                              )
        查看：当前文件夹运行pytest --help